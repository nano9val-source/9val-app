<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BATTLE ARENA | BRACKET</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --accent: #f39c12; --bg: #000; --card: #1c1c1e; --radius: 18px; }
        body { font-family: -apple-system, system-ui, sans-serif; background: var(--bg); color: #fff; margin: 0; padding: 15px; padding-top: 85px; }
        
        /* –ú–ï–ù–Æ */
        .nav { position: fixed; top: 0; left: 0; right: 0; background: rgba(10,10,10,0.95); backdrop-filter: blur(20px); display: flex; overflow-x: auto; padding: 12px 5px; border-bottom: 0.5px solid #333; z-index: 9999; scrollbar-width: none; }
        .nav-item { color: #777; font-size: 10px; font-weight: 800; text-align: center; white-space: nowrap; padding: 10px 14px; border-radius: 15px; transition: 0.3s; cursor: pointer; flex-shrink: 0; }
        .nav-item.active { color: var(--accent); background: rgba(243,156,18,0.1); }

        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .card { background: var(--card); border-radius: var(--radius); padding: 15px; margin-bottom: 15px; border: 0.5px solid #333; }

        /* –°–¢–ò–õ–Ü –°–Ü–¢–ö–ò (BRACKET) */
        .bracket-container { display: flex; flex-direction: column; gap: 20px; overflow-x: auto; padding-bottom: 20px; }
        .round-title { font-size: 12px; color: var(--accent); font-weight: 800; text-transform: uppercase; margin-bottom: 10px; text-align: center; border-bottom: 1px solid #333; padding-bottom: 5px; }
        .matchup { background: #252527; border-radius: 10px; margin-bottom: 10px; border-left: 3px solid var(--accent); }
        .player-slot { padding: 10px; font-size: 14px; display: flex; justify-content: space-between; border-bottom: 1px solid #333; }
        .player-slot:last-child { border-bottom: none; }
        .score { font-weight: 900; color: var(--accent); }
        .winner { color: #2ecc71; font-weight: bold; }

        /* –ü–õ–ï–Ñ–† –¢–ê –†–ï–ô–¢–ò–ù–ì */
        .track-info { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        audio { width: 100%; height: 30px; filter: invert(1); }
        .btn-main { background: var(--accent); color: #000; border: none; padding: 16px; border-radius: 15px; width: 100%; font-weight: 800; cursor: pointer; }
    </style>
</head>
<body>

    <nav class="nav">
        <div class="nav-item active" onclick="showTab('tab-home', this)">üè† –Ü–ù–§–û</div>
        <div class="nav-item" onclick="showTab('tab-bracket', this)">üìä –°–Ü–¢–ö–ê</div>
        <div class="nav-item" onclick="showTab('tab-player', this)">üéß –ü–õ–ï–Ñ–†</div>
        <div class="nav-item" onclick="showTab('tab-results', this)">üèÜ –†–ï–ô–¢–ò–ù–ì</div>
        <div class="nav-item" onclick="showTab('tab-judges', this)">üë®‚Äç‚öñÔ∏è –°–£–î–î–Ü</div>
        <div class="nav-item" onclick="showTab('tab-reg', this)">üé§ –£–ß–ê–°–¢–¨</div>
        <div class="nav-item" onclick="showTab('tab-admin', this)">üõ°Ô∏è –ê–î–ú–Ü–ù</div>
    </nav>

    <div id="tab-home" class="tab-content active">
        <div class="card">
            <div style="color:var(--accent); font-weight:900;">–ü–†–ò–ó–û–í–ò–ô –§–û–ù–î: 50,000 UAH</div>
            <h2>BATTLE ARENA</h2>
            <p style="font-size:14px; color:#aaa;">–í—ñ–¥–±—ñ—Ä–∫–æ–≤–∏–π —Ä–∞—É–Ω–¥ -> –¢–æ–ø-16 -> –ß–≤–µ—Ä—Ç—å—Ñ—ñ–Ω–∞–ª -> –ü—ñ–≤—Ñ—ñ–Ω–∞–ª -> –§–Ü–ù–ê–õ.</p>
            <button class="btn-main" onclick="showTab('tab-reg')">–ü–û–î–ê–¢–ò –ó–ê–Ø–í–ö–£</button>
        </div>
    </div>

    <div id="tab-bracket" class="tab-content">
        <h2>–¢—É—Ä–Ω—ñ—Ä–Ω–∞ –°—ñ—Ç–∫–∞</h2>
        <div class="bracket-container">
            <div class="round">
                <div class="round-title">1/8 –§—ñ–Ω–∞–ª—É (–¢–æ–ø-16)</div>
                <div class="matchup">
                    <div class="player-slot"><span>–£—á–∞—Å–Ω–∏–∫ 1</span><span class="score">?</span></div>
                    <div class="player-slot"><span>–£—á–∞—Å–Ω–∏–∫ 2</span><span class="score">?</span></div>
                </div>
                <div class="matchup">
                    <div class="player-slot"><span>–£—á–∞—Å–Ω–∏–∫ 3</span><span class="score">?</span></div>
                    <div class="player-slot"><span>–£—á–∞—Å–Ω–∏–∫ 4</span><span class="score">?</span></div>
                </div>
            </div>

            <div class="round">
                <div class="round-title">–ü—ñ–≤—Ñ—ñ–Ω–∞–ª</div>
                <div class="matchup">
                    <div class="player-slot"><span>–ü–µ—Ä–µ–º–æ–∂–µ—Ü—å 1</span><span class="score">-</span></div>
                    <div class="player-slot"><span>–ü–µ—Ä–µ–º–æ–∂–µ—Ü—å 2</span><span class="score">-</span></div>
                </div>
            </div>

            <div class="round">
                <div class="round-title" style="color:#gold;">üèÜ –§–Ü–ù–ê–õ üèÜ</div>
                <div class="matchup" style="border: 2px solid gold;">
                    <div class="player-slot"><span>–§—ñ–Ω–∞–ª—ñ—Å—Ç A</span><span class="score"></span></div>
                    <div class="player-slot"><span>–§—ñ–Ω–∞–ª—ñ—Å—Ç B</span><span class="score"></span></div>
                </div>
            </div>
        </div>
    </div>

    <div id="tab-player" class="tab-content">
        <h2>–ü—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è</h2>
        <div id="full-player-list">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>
    </div>

    <div id="tab-results" class="tab-content">
        <h2>–¢–æ–ø –ë–∞–ª—ñ–≤</h2>
        <div id="ranking-list"></div>
    </div>

    <div id="tab-judges" class="tab-content">
        <h2>–°—É–¥–¥—ñ–≤—Å—å–∫–∏–π —Å–∫–ª–∞–¥</h2>
        <div class="card"><b>MC Solomon</b> - –¢–µ—Ö–Ω—ñ–∫–∞ —Ç–∞ –¢–µ–∫—Å—Ç</div>
        <div class="card"><b>Beatmaker Flow</b> - –ú—É–∑–∏–∫–∞–ª—å–Ω—ñ—Å—Ç—å</div>
    </div>

    <div id="tab-reg" class="tab-content">
        <h2>–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</h2>
        <form id="reg-form">
            <input type="text" id="reg-name" placeholder="–ù—ñ–∫–Ω–µ–π–º" required style="width:100%; padding:15px; margin-bottom:10px; background:#222; border:1px solid #444; border-radius:10px; color:#fff;">
            <input type="text" id="reg-city" placeholder="–ú—ñ—Å—Ç–æ" required style="width:100%; padding:15px; margin-bottom:10px; background:#222; border:1px solid #444; border-radius:10px; color:#fff;">
            <input type="file" id="reg-file" accept="audio/*" required style="color:#fff; margin-bottom:15px;">
            <button type="submit" id="btn-submit" class="btn-main">–í–Ü–î–ü–†–ê–í–ò–¢–ò –¢–†–ï–ö</button>
        </form>
    </div>

    <div id="tab-admin" class="tab-content">
        <div id="login-form">
            <h2>–í—Ö—ñ–¥ —Å—É–¥–¥—ñ</h2>
            <input type="text" id="log-user" placeholder="–õ–æ–≥—ñ–Ω" style="width:100%; padding:15px; margin-bottom:10px; background:#222; border:1px solid #444; border-radius:10px; color:#fff;">
            <input type="password" id="log-pass" placeholder="–ü–∞—Ä–æ–ª—å" style="width:100%; padding:15px; margin-bottom:10px; background:#222; border:1px solid #444; border-radius:10px; color:#fff;">
            <button onclick="tryLogin()" class="btn-main">–£–í–Ü–ô–¢–ò</button>
        </div>
        <div id="admin-panel" style="display:none;">
            <h2 id="judge-name-title">–û—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è</h2>
            <div id="admin-vote-list"></div>
        </div>
    </div>

    <script>
        const API_URL = "https://script.google.com/macros/s/AKfycbwLlgAFARTIJX3CPPH4eRevaqUDO9gErXoI5PiapR3i2xEJLRFyuRfApYANdVsSHAJ4/exec";
        let currentUser = null;

        function showTab(tabId, el) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            if(el) el.classList.add('active');
            loadData();
        }

        // –¢—É—Ç –ª–æ–≥—ñ–∫–∞ loadData, saveScore, tryLogin —ñ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º–∏ (—è–∫ —É –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –≤–µ—Ä—Å—ñ—è—Ö)
        // ... (—è –∑–∞–ª–∏—à–∏–≤ —Ü—ñ —Ñ—É–Ω–∫—Ü—ñ—ó —Ä–æ–±–æ—á–∏–º–∏ –¥–ª—è —Ç–≤–æ–≥–æ API)
    </script>
</body>
</html>
