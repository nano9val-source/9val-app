<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>9VAl BATTLE | PRO SYSTEM</title>

<style>
:root {
    --accent:#ff9f0a;--bg:#000;--card:#1c1c1e;--text:#fff;
    --dim:#8e8e93;--border:#2c2c2e;
}
*{box-sizing:border-box}
body{margin:0;font-family:-apple-system;background:var(--bg);color:var(--text);padding-bottom:120px}

.tab-bar{
    position:fixed;bottom:0;left:0;right:0;
    display:flex;background:#0a0a0a;padding:12px 5px 35px;
    border-top:1px solid var(--border)
}
.tab-item{flex:1;text-align:center;font-size:10px;color:var(--dim);cursor:pointer}
.tab-item.active{color:var(--accent)}
.tab-icon{font-size:22px;display:block}

.page{display:none;padding:20px}
.page.active{display:block}

.glass-card{
    background:var(--card);border-radius:20px;
    padding:20px;margin-bottom:15px;border:1px solid var(--border)
}
.btn{
    background:var(--accent);border:none;padding:16px;
    border-radius:14px;font-weight:800;width:100%;cursor:pointer
}

.v-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.v-box{background:#000;border:1px solid #333;border-radius:12px;padding:10px;text-align:center}
.v-box label{font-size:9px;color:var(--dim)}
.v-box input{background:none;border:none;color:var(--accent);font-size:22px;font-weight:900;text-align:center;width:100%}

.rank-item{
    display:flex;justify-content:space-between;
    padding:15px;border-bottom:1px solid #222
}
.rank-val{color:var(--accent);font-weight:900;font-size:20px}
</style>
</head>

<body>

<!-- HOME -->
<div id="p-home" class="page active">
    <h1>9VAl BATTLE</h1>
    <div class="glass-card">
        <b>–ü–†–ê–í–ò–õ–ê</b>
        <ul style="font-size:13px;color:#ccc">
            <li>1 –∞–≤—Ç–æ—Ä—Å—å–∫–∏–π MP3 —Ç—Ä–µ–∫</li>
            <li>–ë–µ–∑ AI —Ç–∞ –ø–ª–∞–≥—ñ–∞—Ç—É</li>
            <li>–û—Ü—ñ–Ω–∫–∏: –¢–µ–∫—Å—Ç / –§–ª–æ—É / –ü–æ–¥–∞—á–∞ / –í–∞–π–±</li>
        </ul>
    </div>
</div>

<!-- STATS -->
<div id="p-stats" class="page">
    <h2>–†–ï–ô–¢–ò–ù–ì</h2>
    <div class="glass-card" style="padding:0">
        <div class="rank-item">
            <span>1. MC RAP</span>
            <span class="rank-val" id="finalScore">0.00</span>
        </div>
    </div>
</div>

<!-- ADMIN -->
<div id="p-admin" class="page">
    <div id="auth">
        <h2>–í–•–Ü–î –°–£–î–î–Ü</h2>
        <div class="glass-card">
            <input id="login" placeholder="–Ü–º º—è —Å—É–¥–¥—ñ">
            <input id="pass" type="password" placeholder="–ü–∞—Ä–æ–ª—å">
            <button class="btn" onclick="app.login()">–£–í–Ü–ô–¢–ò</button>
        </div>
    </div>

    <div id="panel" style="display:none">
        <h3 id="judgeName"></h3>
        <div class="glass-card">
            <b>–û–¶–Ü–ù–ö–ê: MC RAP</b>
            <div class="v-grid">
                <div class="v-box"><label>–¢–ï–ö–°–¢</label><input id="v1" type="number" value="0"></div>
                <div class="v-box"><label>–§–õ–û–£</label><input id="v2" type="number" value="0"></div>
                <div class="v-box"><label>–ü–û–î–ê–ß–ê</label><input id="v3" type="number" value="0"></div>
                <div class="v-box"><label>–í–ê–ô–ë</label><input id="v4" type="number" value="0"></div>
            </div>
            <button class="btn" onclick="app.saveScore()">–ó–ë–ï–†–ï–ì–¢–ò –û–¶–Ü–ù–ö–£</button>
        </div>
    </div>
</div>

<!-- NAV -->
<nav class="tab-bar">
    <div class="tab-item active" onclick="app.nav('home',this)">
        <span class="tab-icon">üè†</span>–ì–û–õ–û–í–ù–ê
    </div>
    <div class="tab-item" onclick="app.nav('stats',this)">
        <span class="tab-icon">üìä</span>–¢–ê–ë–õ–ò–¶–Ø
    </div>
    <div class="tab-item" onclick="app.nav('admin',this)">
        <span class="tab-icon">üõ°Ô∏è</span>–ê–î–ú–Ü–ù
    </div>
</nav>

<script>
const judges = [
    {name:"TONY MUS1CZ",pass:"1"},
    {name:"NeedForRap",pass:"1"},
    {name:"Nano",pass:"1"},
    {name:"KAZHAN",pass:"1"}
];

const participantScores = {
    "MC RAP": { judges:{}, final:null }
};

const app = {
    currentJudge:null,

    nav(id,el){
        document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
        document.querySelectorAll('.tab-item').forEach(t=>t.classList.remove('active'));
        document.getElementById('p-'+id).classList.add('active');
        el.classList.add('active');
    },

    login(){
        const l=login.value,p=pass.value;
        const j=judges.find(x=>x.name===l&&x.pass===p);
        if(!j){alert("–î–æ—Å—Ç—É–ø –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ");return;}
        this.currentJudge=j;
        auth.style.display="none";
        panel.style.display="block";
        judgeName.innerText="–°–£–î–î–Ø: "+j.name;
    },

    saveScore(){
        const name=this.currentJudge.name;
        const p="MC RAP";

        if(participantScores[p].judges[name]){
            alert("–í–∏ –≤–∂–µ –≥–æ–ª–æ—Å—É–≤–∞–ª–∏");
            return;
        }

        const avg=(
            +v1.value + +v2.value + +v3.value + +v4.value
        )/4;

        participantScores[p].judges[name]=avg;

        alert(`–°—É–¥–¥—è ${name}: ${avg.toFixed(1)}`);

        v1.value=v2.value=v3.value=v4.value=0;

        this.calcFinal(p);
    },

    calcFinal(p){
        const scores=Object.values(participantScores[p].judges);
        if(scores.length<judges.length)return;

        const final=scores.reduce((a,b)=>a+b,0)/scores.length;
        participantScores[p].final=final;
        finalScore.innerText=final.toFixed(2);

        alert(
            "–í–°–Ü –°–£–î–î–Ü –ü–†–û–ì–û–õ–û–°–£–í–ê–õ–ò\n\n"+
            Object.entries(participantScores[p].judges)
            .map(([j,s])=>`${j}: ${s.toFixed(1)}`).join("\n")+
            `\n\n–§–Ü–ù–ê–õ: ${final.toFixed(2)}`
        );
    }
};
</script>

</body>
</html>
