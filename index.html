<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>9valBattle Registration</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: sans-serif; background-color: #000; color: #fff; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; }
        .container { width: 90%; max-width: 400px; text-align: center; }
        input { width: 100%; padding: 12px; margin: 10px 0; border-radius: 8px; border: none; font-size: 16px; color: #000; }
        button { width: 100%; padding: 15px; background-color: #f39c12; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 18px; }
        h2 { color: #f39c12; }
    </style>
</head>
<body>
    <div class="container">
        <h2>–†–ï–Ñ–°–¢–†–ê–¶–Ü–Ø –ù–ê –ë–ê–¢–õ</h2>
        <input type="text" id="city" placeholder="–¢–≤–æ—î –º—ñ—Å—Ç–æ">
        <input type="text" id="social" placeholder="Instagram –∞–±–æ SoundCloud">
        <button onclick="sendApplication()">–ü–û–î–ê–¢–ò –ó–ê–Ø–í–ö–£ –ù–ê –í–Ü–î–ë–Ü–†</button>
        <p id="status"></p>
    </div>
    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        async function sendApplication() {
            const city = document.getElementById('city').value;
            const social = document.getElementById('social').value;
            const status = document.getElementById('status');
            if (!city || !social) { alert("–ó–∞–ø–æ–≤–Ω–∏ –≤—Å—ñ –ø–æ–ª—è, –±—Ä–æ!"); return; }
            const botToken = "8585490201:AAG_8CEbFlBoLLXFwyzuF5w8AkY0Avi4BQw";
            const adminId = "590742317";
            const user = tg.initDataUnsafe?.user || {};
            const message = `üé§ **–ù–û–í–ê –ó–ê–Ø–í–ö–ê –ù–ê –ë–ê–¢–õ!**\n\nüë§ **–ê—Ä—Ç–∏—Å—Ç:** ${user.first_name || '–ê–Ω–æ–Ω—ñ–º'} (@${user.username || '–Ω–µ–º–∞—î'})\nüìç **–ú—ñ—Å—Ç–æ:** ${city}\nüîó **–°–æ—Ü–º–µ—Ä–µ–∂—ñ:** ${social}`;
            status.innerText = "–í—ñ–¥–ø—Ä–∞–≤–∫–∞...";
            try {
                const response = await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: adminId, text: message, parse_mode: "Markdown" })
                });
                if (response.ok) { status.innerText = "‚úÖ –ó–∞—è–≤–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–∞!"; } 
                else { status.innerText = "‚ùå –ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏."; }
            } catch (e) { status.innerText = "‚ùå –ü–æ–º–∏–ª–∫–∞ –º–µ—Ä–µ–∂—ñ."; }
        }
    </script>
</body>
</html>
